pipeline {
      agent any
      stages {
          stage('One') {
          steps {
            echo 'Begin of Pipeline: Stage One completes!'
            }
          }
          stage('Two') {
          steps {
            script {     
                      env.userchoice = input message: 'Do you want to update to Development container?',
                      parameters: [choice(choices: 'no\yes', description: 'choose "Proceed" if you want to update to Dev Container')]
          
                   if (userchoice == 'Proceed') {
                      sh 'echo "Development updated"'
                   }
                   else {
                      sh 'echo "Development NOT updated"'
                   }
                  }
              }
          }
          stage('Three') {
          when {
          environment name: 'userchoice', value: 'Proceed' }
          steps {
                 sh '''#!/bin/bash
                 targets=puppetclient1;
                 locate_script='/testdir/work/devops_repo/script_to_run';
                 bolt script run $locate_script -t $targets -u clientadm -p user123 --no-host-key-check --run-as root;
                '''
                 echo "Development container updated";
                
                }
          }
        
          stage('Completed updating Operation') {
          steps {
            echo 'Completed updating to Production Container';
          }
       
      }
      }

}
